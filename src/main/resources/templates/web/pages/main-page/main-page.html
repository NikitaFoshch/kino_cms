<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{/web/fragments/head :: head}"></th:block>
</head>
<body>

<th:block th:insert="~{/web/fragments/header :: header}"></th:block>

<main>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
            <div class="row m-auto w-100">
                <div id="carouselExampleInterval" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div th:class="${banner == topBanner.topBannerBlocksList.get(0)} ? ${'carousel-item active'} : ${'carousel-item'}"
                             th:data-bs-interval="${topBanner.rotatingSpeed * 1000}"
                             th:if="${banner.image!=null}"
                             th:each="banner:${topBanner.topBannerBlocksList}">

                            <a th:href="${banner.url}">
                                <img th:src="${banner.image == null} ? ${'/img/common/no-image.jpg'} : ${'/files/' + banner.image}"
                                     class="d-md-block w-100" height="500" alt="/img/img.png">
                            </a>

                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval"
                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
            <div class="row">
                <div class="col-md-auto m-auto form-group pt-5">
                    <h2>Смотрите сегодня, <th:block th:text="${date.getDayOfMonth() + ' ' + date.getMonth()}"></th:block></h2>
                </div>
            </div>
            <div class="row pt-5">
                <div class="col-md-3 col-form-label" th:if="${movie.disabled}" th:each="movie:${moviesOngoing}">
                    <a th:href="'/poster/movie-cart/' + *{movie.id}" class="text-dark">
                        <div class="row">
                            <div class="col-md-12 text-center pr-4 pl-4">
                                <img th:src="*{movie.mainImage == null} ? ${'/img/common/no-image.jpg'} : *{'/files/' + movie.mainImage}"
                                     class="product-image w-100 " height="500" alt="Movie Image">
                            </div>
                        </div>
                        <div class="row pt-2">
                            <div class="col-md-12 form-group text-center" th:text="${movie.name}"></div>
                        </div>
                    </a>
                    <div class="row">
                        <div class="col-md-auto m-auto">
                            <a th:href="${'/schedule/ticket-booking/' + movie.id}" type="button" class="btn btn-success">Купить Билет</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-auto m-auto form-group pt-5"><h2>Смотрите скоро</h2></div>
            </div>
            <div class="row pt-5">
                <div class="col-md-3 col-form-label" th:if="${movie.disabled}" th:each="movie:${moviesComingSoon}">
                    <a th:href="'/coming-soon/movie-cart/' + *{movie.id}" class="link-dark">
                        <div class="row">
                            <div class="col-md-12 text-center pr-4 pl-4">
                                <img th:src="*{movie.mainImage == null} ? ${'/img/common/no-image.jpg'} : *{'/files/' + movie.mainImage}"
                                     class="product-image w-100 " height="500" alt="Movie Image">
                            </div>
                        </div>
                        <div class="row pt-2">
                            <div class="col-md-12 form-group text-center" th:text="${movie.name}"></div>
                        </div>
                    </a>
                    <div class="row">
                        <div class="col-md-auto m-auto">
                            <h5>С <th:block th:text="${movie.release.getDayOfMonth() + ' ' + movie.release.getMonth()}"></th:block></h5>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row pt-5 m-auto w-100">
                <div id="carouselInterval" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        <div th:class="${newsBannerBlock == newsBanner.newsBannerBlocksList.get(0)} ? ${'carousel-item active'} : ${'carousel-item'}"
                             th:data-bs-interval="${newsBanner.rotatingSpeed * 1000}"
                             th:if="${newsBannerBlock.image!=null}"
                             th:each="newsBannerBlock:${newsBanner.newsBannerBlocksList}">

                            <a th:href="${newsBannerBlock.url}">
                                <img th:src="${newsBannerBlock.image == null} ? ${'/img/common/no-image.jpg'} : ${'/files/' + newsBannerBlock.image}"
                                     class="d-md-block w-100" height="500" alt="/img/img.png">
                            </a>

                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselInterval"
                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselInterval"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>
        </div>
    </div>


</main>

<th:block th:insert="~{/web/fragments/footer :: footer}"></th:block>

<th:block th:insert="~{/web/fragments/js :: js}"></th:block>
</body>
</html>
